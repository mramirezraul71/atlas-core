{
  "pot_id": "services_repair",
  "pot_name": "Reparación de Servicios",
  "ok": false,
  "started_at": "2026-02-18T16:02:47.648886+00:00",
  "ended_at": "2026-02-18T16:04:59.362019+00:00",
  "elapsed_ms": 131713,
  "steps_total": 12,
  "steps_ok": 9,
  "steps_failed": 3,
  "steps_skipped": 0,
  "step_results": [
    {
      "step_id": "diagnose_robot",
      "step_name": "Diagnosticar Robot Backend",
      "ok": false,
      "started_at": "2026-02-18T16:02:47.691016+00:00",
      "ended_at": "2026-02-18T16:02:50.126830+00:00",
      "elapsed_ms": 2435,
      "output": "",
      "error": "ConnectionResetError: [WinError 10054] Se ha forzado la interrupción de una conexión existente por el host remoto",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "diagnose_nexus",
      "step_name": "Diagnosticar NEXUS",
      "ok": false,
      "started_at": "2026-02-18T16:02:50.128338+00:00",
      "ended_at": "2026-02-18T16:02:50.255786+00:00",
      "elapsed_ms": 127,
      "output": "",
      "error": "HTTP 404",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "diagnose_push",
      "step_name": "Diagnosticar Push Dashboard",
      "ok": true,
      "started_at": "2026-02-18T16:02:50.258785+00:00",
      "ended_at": "2026-02-18T16:02:53.366514+00:00",
      "elapsed_ms": 3107,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "kill_zombie_processes",
      "step_name": "Limpiar procesos zombie",
      "ok": true,
      "started_at": "2026-02-18T16:02:53.366514+00:00",
      "ended_at": "2026-02-18T16:02:59.452448+00:00",
      "elapsed_ms": 6085,
      "output": "",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "wait_port_release",
      "step_name": "Esperar liberación de puertos",
      "ok": true,
      "started_at": "2026-02-18T16:02:59.452448+00:00",
      "ended_at": "2026-02-18T16:03:02.754820+00:00",
      "elapsed_ms": 3302,
      "output": "waited 3s",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_robot",
      "step_name": "Reiniciar Robot Backend",
      "ok": true,
      "started_at": "2026-02-18T16:03:02.754820+00:00",
      "ended_at": "2026-02-18T16:03:12.275533+00:00",
      "elapsed_ms": 9520,
      "output": "Puerto 8002 en uso por: python (PID 37284)\nProceso 37284 terminado. Puerto 8002 libre.\nRobot (8002) arrancado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "wait_robot_ready",
      "step_name": "Esperar Robot listo",
      "ok": true,
      "started_at": "2026-02-18T16:03:12.275533+00:00",
      "ended_at": "2026-02-18T16:03:17.277230+00:00",
      "elapsed_ms": 5001,
      "output": "waited 5s",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "verify_robot",
      "step_name": "Verificar Robot activo",
      "ok": true,
      "started_at": "2026-02-18T16:03:17.277230+00:00",
      "ended_at": "2026-02-18T16:03:17.280745+00:00",
      "elapsed_ms": 2,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_nexus",
      "step_name": "Reiniciar NEXUS",
      "ok": true,
      "started_at": "2026-02-18T16:03:17.280745+00:00",
      "ended_at": "2026-02-18T16:03:23.150588+00:00",
      "elapsed_ms": 5869,
      "output": "Puerto 8000 en uso por: python (PID 33232)\nProceso 33232 terminado. Puerto 8000 libre.\nNEXUS (8000) arrancado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_push",
      "step_name": "Reiniciar Push Dashboard",
      "ok": false,
      "started_at": "2026-02-18T16:03:23.150588+00:00",
      "ended_at": "2026-02-18T16:04:56.555510+00:00",
      "elapsed_ms": 93404,
      "output": "",
      "error": "timeout 60s",
      "exit_code": -1,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "final_health_check",
      "step_name": "Verificación final de salud",
      "ok": true,
      "started_at": "2026-02-18T16:04:56.564234+00:00",
      "ended_at": "2026-02-18T16:04:58.199406+00:00",
      "elapsed_ms": 1635,
      "output": "=== Diagnóstico conexión NEXUS / Robot ===\n\nNEXUS (8000): CONECTADO\n   {\"status\": \"operational\", \"version\": \"2.0.0\", \"uptime\": 0.747436, \"active_plans\": 0, \"active_tasks\": 0, \"completed_tasks...\n\nRobot (8002): CONECTADO\n   {\"status\": \"healthy\", \"timestamp\": \"2026-02-18T11:04:58.117574\", \"uptime\": 0, \"modules_active\": 8}\n\nResumen: ambos servicios responden. El dashboard debería mostrar Conectado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "log_completion",
      "step_name": "Registrar en bitácora",
      "ok": true,
      "started_at": "2026-02-18T16:04:58.199406+00:00",
      "ended_at": "2026-02-18T16:04:59.362019+00:00",
      "elapsed_ms": 1162,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    }
  ],
  "verification_ok": false,
  "verification_message": "",
  "rollback_executed": false,
  "incident_id": null,
  "report_path": null
}