{
  "pot_id": "services_repair",
  "pot_name": "Reparación de Servicios",
  "ok": false,
  "started_at": "2026-02-18T15:58:29.063263+00:00",
  "ended_at": "2026-02-18T15:59:14.840484+00:00",
  "elapsed_ms": 45777,
  "steps_total": 12,
  "steps_ok": 10,
  "steps_failed": 2,
  "steps_skipped": 0,
  "step_results": [
    {
      "step_id": "diagnose_robot",
      "step_name": "Diagnosticar Robot Backend",
      "ok": false,
      "started_at": "2026-02-18T15:58:29.071780+00:00",
      "ended_at": "2026-02-18T15:58:29.797994+00:00",
      "elapsed_ms": 726,
      "output": "",
      "error": "ConnectionResetError: [WinError 10054] Se ha forzado la interrupción de una conexión existente por el host remoto",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "diagnose_nexus",
      "step_name": "Diagnosticar NEXUS",
      "ok": false,
      "started_at": "2026-02-18T15:58:29.797994+00:00",
      "ended_at": "2026-02-18T15:58:29.801509+00:00",
      "elapsed_ms": 3,
      "output": "",
      "error": "HTTP 404",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "diagnose_push",
      "step_name": "Diagnosticar Push Dashboard",
      "ok": true,
      "started_at": "2026-02-18T15:58:29.802749+00:00",
      "ended_at": "2026-02-18T15:58:29.851842+00:00",
      "elapsed_ms": 49,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "kill_zombie_processes",
      "step_name": "Limpiar procesos zombie",
      "ok": true,
      "started_at": "2026-02-18T15:58:29.851842+00:00",
      "ended_at": "2026-02-18T15:58:31.149196+00:00",
      "elapsed_ms": 1297,
      "output": "",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "wait_port_release",
      "step_name": "Esperar liberación de puertos",
      "ok": true,
      "started_at": "2026-02-18T15:58:31.149196+00:00",
      "ended_at": "2026-02-18T15:58:34.149769+00:00",
      "elapsed_ms": 3000,
      "output": "waited 3s",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_robot",
      "step_name": "Reiniciar Robot Backend",
      "ok": true,
      "started_at": "2026-02-18T15:58:34.149769+00:00",
      "ended_at": "2026-02-18T15:58:35.619716+00:00",
      "elapsed_ms": 1469,
      "output": "Puerto 8002 libre.\nRobot (8002) arrancado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "wait_robot_ready",
      "step_name": "Esperar Robot listo",
      "ok": true,
      "started_at": "2026-02-18T15:58:35.619716+00:00",
      "ended_at": "2026-02-18T15:58:40.620547+00:00",
      "elapsed_ms": 5000,
      "output": "waited 5s",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "verify_robot",
      "step_name": "Verificar Robot activo",
      "ok": true,
      "started_at": "2026-02-18T15:58:40.620547+00:00",
      "ended_at": "2026-02-18T15:58:40.623080+00:00",
      "elapsed_ms": 2,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_nexus",
      "step_name": "Reiniciar NEXUS",
      "ok": true,
      "started_at": "2026-02-18T15:58:40.623080+00:00",
      "ended_at": "2026-02-18T15:58:43.394104+00:00",
      "elapsed_ms": 2771,
      "output": "Puerto 8000 en uso por: python (PID 26068)\nProceso 26068 terminado. Puerto 8000 libre.\nNEXUS (8000) arrancado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_push",
      "step_name": "Reiniciar Push Dashboard",
      "ok": true,
      "started_at": "2026-02-18T15:58:43.394104+00:00",
      "ended_at": "2026-02-18T15:59:14.490990+00:00",
      "elapsed_ms": 31096,
      "output": "Puerto 8791 en uso por: python (PID 37748)\nProceso 37748 terminado. Puerto 8791 libre.\nIniciando PUSH (8791) en primer plano. Cierra con Ctrl+C.\nINFO:     127.0.0.1:51807 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51818 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51813 - \"GET /ui HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51808 - \"GET /approvals/pending HTTP/1.1\" 404 Not Found\nINFO:     127.0.0.1:51819 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51820 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51821 - \"POST /ans/incidents HTTP/1.1\" 405 Method Not Allowed\nINFO:     127.0.0.1:51822 - \"POST /ops/event HTTP/1.1\" 404 Not Found\nINFO:     127.0.0.1:51797 - \"GET /ans/incidents?status=open HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51827 - \"GET /approvals/pending HTTP/1.1\" 404 Not Found\nINFO:     127.0.0.1:51828 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51829 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51830 - \"POST /ans/incidents HTTP/1.1\" 405 Method Not Allowed\nINFO:     127.0.0.1:51831 - \"POST /ops/event HTTP/1.1\" 404 Not Found\nINFO:     127.0.0.1:51801 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51835 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:49675 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51825 - \"GET /status HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:49677 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:49678 - \"POST /ops/event HTTP/1.1\" 404 Not Found\nINFO:     127.0.0.1:49682 - \"GET /ui HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:51837 - \"GET /status HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:49685 - \"POST /ans/evolution-log HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:49687 - \"POST /ops/event HTTP/1.1\" 404 Not Found\nINFO:     127.0.0.1:49696 - \"GET /health HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:49699 - \"GET /ans/incidents?status=open HTTP/1.1\" 200 OK\nINFO:     127.0.0.1:49700 - \"GET /approvals/pending HTTP/",
      "error": "INFO:     Started server process [40884]\nINFO:     Waiting for application startup.\npython-dotenv could not parse statement starting at line 12\nRequest failed to /ans/evolution-log: <urlopen error [WinError 10061] No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión>\nStep pull_if_needed failed: error: cannot pull with rebase: You have unstaged changes.\nerror: Please commit or stash them.\nStep check_health failed: URLError: <urlopen error [WinError 10061] No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión>\nStep check_incidents failed: URLError: <urlopen error [WinError 10061] No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión>\nStale lock recovery: 1 job(s) requeued\nINFO:     Application startup complete.\nINFO:     Uvicorn running on http://0.0.0.0:8791 (Press CTRL+C to quit)\nStep check_approvals failed: HTTP 404\nHTTP Error 405 on /ans/incidents\nTelegram send failed: No module named 'modules.humanoid.notify'\nStep pull_if_needed failed: error: cannot pull with rebase: You have unstaged changes.\nerror: Please commit or stash them.\nStep check_approvals failed: HTTP 404\nHTTP Error 405 on /ans/incidents\nTelegram send failed: No module named 'modules.humanoid.notify'\nC:\\ATLAS_PUSH\\modules\\humanoid\\quality\\cerebro_connector.py:409: RuntimeWarning: coroutine 'ChannelConnector.send_telegram' was never awaited\n  loop.close()\nRuntimeWarning: Enable tracemalloc to get the object allocation traceback\nStep diagnose_nexus failed: HTTP 404\nCondition eval failed: context.get('diagnose_nexus_failed', False) -> name 'context' is not defined\nCondition eval failed: context.get('diagnose_push_failed', False) -> name 'context' is not defined",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "final_health_check",
      "step_name": "Verificación final de salud",
      "ok": true,
      "started_at": "2026-02-18T15:59:14.490990+00:00",
      "ended_at": "2026-02-18T15:59:14.783704+00:00",
      "elapsed_ms": 292,
      "output": "=== Diagnóstico conexión NEXUS / Robot ===\n\nNEXUS (8000): CONECTADO\n   {\"status\": \"operational\", \"version\": \"2.0.0\", \"uptime\": 0.267405, \"active_plans\": 0, \"active_tasks\": 0, \"completed_tasks...\n\nRobot (8002): CONECTADO\n   {\"status\": \"healthy\", \"timestamp\": \"2026-02-18T10:59:14.757085\", \"uptime\": 5.228498, \"modules_active\": 8}\n\nResumen: ambos servicios responden. El dashboard debería mostrar Conectado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "log_completion",
      "step_name": "Registrar en bitácora",
      "ok": true,
      "started_at": "2026-02-18T15:59:14.783704+00:00",
      "ended_at": "2026-02-18T15:59:14.840484+00:00",
      "elapsed_ms": 56,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    }
  ],
  "verification_ok": false,
  "verification_message": "",
  "rollback_executed": false,
  "incident_id": null,
  "report_path": null
}