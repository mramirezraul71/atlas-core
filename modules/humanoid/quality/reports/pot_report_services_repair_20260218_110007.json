{
  "pot_id": "services_repair",
  "pot_name": "Reparación de Servicios",
  "ok": false,
  "started_at": "2026-02-18T15:59:14.897742+00:00",
  "ended_at": "2026-02-18T16:00:07.481040+00:00",
  "elapsed_ms": 52583,
  "steps_total": 12,
  "steps_ok": 10,
  "steps_failed": 2,
  "steps_skipped": 0,
  "step_results": [
    {
      "step_id": "diagnose_robot",
      "step_name": "Diagnosticar Robot Backend",
      "ok": true,
      "started_at": "2026-02-18T15:59:14.909432+00:00",
      "ended_at": "2026-02-18T15:59:14.911433+00:00",
      "elapsed_ms": 2,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "diagnose_nexus",
      "step_name": "Diagnosticar NEXUS",
      "ok": false,
      "started_at": "2026-02-18T15:59:14.911433+00:00",
      "ended_at": "2026-02-18T15:59:14.931547+00:00",
      "elapsed_ms": 20,
      "output": "",
      "error": "HTTP 404",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "diagnose_push",
      "step_name": "Diagnosticar Push Dashboard",
      "ok": true,
      "started_at": "2026-02-18T15:59:14.936071+00:00",
      "ended_at": "2026-02-18T15:59:14.961187+00:00",
      "elapsed_ms": 25,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "kill_zombie_processes",
      "step_name": "Limpiar procesos zombie",
      "ok": false,
      "started_at": "2026-02-18T15:59:14.961187+00:00",
      "ended_at": "2026-02-18T15:59:16.628190+00:00",
      "elapsed_ms": 1667,
      "output": "",
      "error": "",
      "exit_code": 1,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "wait_port_release",
      "step_name": "Esperar liberación de puertos",
      "ok": true,
      "started_at": "2026-02-18T15:59:16.628696+00:00",
      "ended_at": "2026-02-18T15:59:19.629437+00:00",
      "elapsed_ms": 3000,
      "output": "waited 3s",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_robot",
      "step_name": "Reiniciar Robot Backend",
      "ok": true,
      "started_at": "2026-02-18T15:59:19.629437+00:00",
      "ended_at": "2026-02-18T15:59:22.081412+00:00",
      "elapsed_ms": 2451,
      "output": "Puerto 8002 libre.\nRobot (8002) arrancado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "wait_robot_ready",
      "step_name": "Esperar Robot listo",
      "ok": true,
      "started_at": "2026-02-18T15:59:22.081412+00:00",
      "ended_at": "2026-02-18T15:59:27.083229+00:00",
      "elapsed_ms": 5001,
      "output": "waited 5s",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "verify_robot",
      "step_name": "Verificar Robot activo",
      "ok": true,
      "started_at": "2026-02-18T15:59:27.083229+00:00",
      "ended_at": "2026-02-18T15:59:32.138966+00:00",
      "elapsed_ms": 5055,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 1
    },
    {
      "step_id": "restart_nexus",
      "step_name": "Reiniciar NEXUS",
      "ok": true,
      "started_at": "2026-02-18T15:59:32.138966+00:00",
      "ended_at": "2026-02-18T15:59:35.432303+00:00",
      "elapsed_ms": 3293,
      "output": "Puerto 8000 en uso por: python (PID 41868)\nProceso 41868 terminado. Puerto 8000 libre.\nNEXUS (8000) arrancado.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "restart_push",
      "step_name": "Reiniciar Push Dashboard",
      "ok": true,
      "started_at": "2026-02-18T15:59:35.432303+00:00",
      "ended_at": "2026-02-18T15:59:51.899592+00:00",
      "elapsed_ms": 16467,
      "output": "Puerto 8791 en uso por: python (PID 36256)\nProceso 36256 terminado. Puerto 8791 libre.\nIniciando PUSH (8791) en primer plano. Cierra con Ctrl+C.\n\nINFO:     Started server process [23232]\nINFO:     Waiting for application startup.\npython-dotenv could not parse statement starting at line 12\nRequest failed to /ans/evolution-log: <urlopen error [WinError 10061] No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión>\nStep pull_if_needed failed: error: cannot pull with rebase: You have unstaged changes.\nerror: Please commit or stash them.\nStep check_approvals failed: HTTP 404\nHTTP Error 405 on /ans/incidents\nTelegram send failed: No module named 'modules.humanoid.notify'\nINFO:     Application startup complete.\nERROR:    [Errno 10048] error while attempting to bind on address ('0.0.0.0', 8791): solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.",
      "error": "INFO:     Started server process [23232]\nINFO:     Waiting for application startup.\npython-dotenv could not parse statement starting at line 12\nRequest failed to /ans/evolution-log: <urlopen error [WinError 10061] No se puede establecer una conexión ya que el equipo de destino denegó expresamente dicha conexión>\nStep pull_if_needed failed: error: cannot pull with rebase: You have unstaged changes.\nerror: Please commit or stash them.\nStep check_approvals failed: HTTP 404\nHTTP Error 405 on /ans/incidents\nTelegram send failed: No module named 'modules.humanoid.notify'\nINFO:     Application startup complete.\nERROR:    [Errno 10048] error while attempting to bind on address ('0.0.0.0', 8791): solo se permite un uso de cada dirección de socket (protocolo/dirección de red/puerto)\nINFO:     Waiting for application shutdown.\nINFO:     Application shutdown complete.",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "final_health_check",
      "step_name": "Verificación final de salud",
      "ok": true,
      "started_at": "2026-02-18T15:59:51.899592+00:00",
      "ended_at": "2026-02-18T15:59:54.123486+00:00",
      "elapsed_ms": 2223,
      "output": "=== Diagnóstico conexión NEXUS / Robot ===\n\nNEXUS (8000): DESCONECTADO\n   <urlopen error [WinError 10061] No se puede establecer una conexión ya que el eq\n  Acción: arrancar NEXUS (ej. cd nexus/atlas_nexus && python nexus.py --mode api)\n\nRobot (8002): CONECTADO\n   {\"status\": \"healthy\", \"timestamp\": \"2026-02-18T10:59:54.102610\", \"uptime\": 0, \"modules_active\": 8}\n\nResumen: solo Robot responde. NEXUS (8000) no está en marcha.",
      "error": "",
      "exit_code": 0,
      "skipped": false,
      "retries_used": 0
    },
    {
      "step_id": "log_completion",
      "step_name": "Registrar en bitácora",
      "ok": true,
      "started_at": "2026-02-18T15:59:54.123486+00:00",
      "ended_at": "2026-02-18T16:00:07.481040+00:00",
      "elapsed_ms": 13357,
      "output": "",
      "error": "",
      "exit_code": null,
      "skipped": false,
      "retries_used": 0
    }
  ],
  "verification_ok": false,
  "verification_message": "",
  "rollback_executed": false,
  "incident_id": null,
  "report_path": null
}